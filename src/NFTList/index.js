import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useContractInfiniteReads } from 'wagmi';
import { BigNumber } from 'ethers';
import ABI from '../ABI.json';
import './index.css';

import parse from 'html-react-parser';

// const sampleNFTs = [
//   '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 200 257.9422"><g transform="matrix(1.26057152 0 0 .78904079 -31.316713 -67.080117)"><path fill="#febe69" d="M25.972512 133.2503H183.50146l-4.49792 110.10088H30.470429Z"/><path fill="#febe69" d="m24.843274 134.379533 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="102.19621" cy="101.63158" r="5" fill="#fff"/><text xml:space="preserve" x="57.973602" y="139.82329" stroke-width="1.00269" direction="rtl" font-family="Tamanegi_Geki" font-size="9.90435" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="scale(.79116302 1.263962)"><tspan x="57.973602" y="139.82329" writing-mode="tb-rl"> NF天満宮</tspan></text></g><text xml:space="preserve" fill="#280b0b" font-size="85.3333" style="white-space:pre;shape-inside:url(#a)" transform="matrix(.23610174 0 0 .24690367 243.622732 -4.098946)"><tspan x="-822.47852" y="181.80856"><tspan font-family="Tamanegi_Geki" style="-inkscape-font-specification:Tamanegi_Geki">奉</tspan></tspan></text><text xml:space="preserve" x="201.07938" y="186.18793" fill="#280b0b" stroke-width=".264583" font-family="sans-serif" font-size="8.46667" font-weight="700" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-orientation:upright" transform="translate(9.923507 -82.654231) scale(.83289259)"><tspan x="160.07938" y="166.18793" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-align:center" text-anchor="middle" writing-mode="tb-rl">TestNFT</tspan></text><text xml:space="preserve" x="149.21829" y="146.19049" fill="#280b0b" stroke-width=".289883" font-family="Tamanegi_Geki" font-size="24.7369" font-weight="400" style="-inkscape-font-specification:Tamanegi_Geki" transform="matrix(.81446954 0 0 .85173237 9.923507 -82.654231)"><tspan x="149.21829" y="146.19049">納</tspan></text><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#303030" d="M155.851 306.732c-18.155 0-22.636-11.146-22.636-11.146l1.494 16.661h42.286l1.494-16.661c-.002.001-4.483 11.146-22.638 11.146z"/><path fill="#e81c1c" d="M148.49699 284.556h15.627v188.215h-15.627z"/><ellipse cx="156.31" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ff2c2c" d="M144.59 436.691v39.987c0 1.888 5.247 3.418 11.72 3.418 6.473 0 11.72-1.53 11.72-3.418v-39.987z"/></g><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#e81c1c" d="M282.70599 284.556h15.627v188.215h-15.627zM218.359 312.248h10.112v-27.692h-10.112z"/><path fill="#ff2c2c" d="M104.373 286.394h238.084l4.137-13.329H100.236z"/><path fill="#303030" d="M290.98 306.732c18.155 0 22.636-11.146 22.636-11.146l-1.494 16.661h-42.285l-1.494-16.661c0 .001 4.482 11.146 22.637 11.146zm-67.565-44.212c-109.593 0-133.033-17.235-137.169-21.371l8.935 34.215H351.65l8.935-34.215c-4.137 4.136-27.576 21.371-137.17 21.371z"/><ellipse cx="290.51999" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ba1919" d="M110.654 322.321h225.522v-11.643H110.654z"/><path fill="#ff2c2c" d="M302.24 436.691v39.987c0 1.888-5.247 3.418-11.72 3.418-6.473 0-11.72-1.53-11.72-3.418v-39.987z"/></g><g transform="matrix(1.26057157 0 0 .7890415 -75.404294 234.704048)"><path fill="#febe69" d="M60.94678-80.649745h157.52895l-4.49792 110.10088H65.444697Z"/><path fill="#febe69" d="m59.817542-79.520509 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="137.17049" cy="-112.26847" r="5" fill="#fff"/></g><text xml:space="preserve" x="209.95473" y="374.50323" stroke-width=".365001" font-family="Tamanegi_Geki" font-size="11.2889" font-weight="700" letter-spacing="3.96875" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="matrix(.89235306 0 0 .93318009 -89.609041 -177.833896)"><tspan x="211.9391" y="374.50323" stroke-width=".365">令和五年</tspan></text><g transform="matrix(.89235306 0 0 .93318009 -87.394142 -174.33652)"><ellipse cx="120.62452" cy="445.47101" fill="none" stroke="red" stroke-width=".681042" rx="9.683998" ry="9.659479"/><text xml:space="preserve" x="120.16389" y="445.64499" fill="red" stroke-width=".365001" direction="rtl" font-family="Tamanegi_Geki" font-size="14.1111" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-orientation:upright" text-anchor="middle" writing-mode="tb-rl"><tspan x="120.16389" y="445.64499" stroke-width=".365">済</tspan></text></g><text xml:space="preserve" stroke-width="3.77953" direction="rtl" font-family="Tamanegi_Geki" font-size="43.8495" font-weight="700" style="line-height:1.1;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:end;text-orientation:upright;white-space:pre;shape-inside:url(#b);shape-padding:0" transform="matrix(.23610174 0 0 .29585664 -129.361002 -261.060929)" writing-mode="tb-rl"><tspan x="510%" y="1730">こんにちは!</tspan><tspan x="480%" y="1730">世界</tspan></text></svg>',
//   '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 200 257.9422"><g transform="matrix(1.26057152 0 0 .78904079 -31.316713 -67.080117)"><path fill="#febe69" d="M25.972512 133.2503H183.50146l-4.49792 110.10088H30.470429Z"/><path fill="#febe69" d="m24.843274 134.379533 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="102.19621" cy="101.63158" r="5" fill="#fff"/><text xml:space="preserve" x="57.973602" y="139.82329" stroke-width="1.00269" direction="rtl" font-family="Tamanegi_Geki" font-size="9.90435" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="scale(.79116302 1.263962)"><tspan x="57.973602" y="139.82329" writing-mode="tb-rl"> NF天満宮</tspan></text></g><text xml:space="preserve" fill="#280b0b" font-size="85.3333" style="white-space:pre;shape-inside:url(#a)" transform="matrix(.23610174 0 0 .24690367 243.622732 -4.098946)"><tspan x="-822.47852" y="181.80856"><tspan font-family="Tamanegi_Geki" style="-inkscape-font-specification:Tamanegi_Geki">奉</tspan></tspan></text><text xml:space="preserve" x="201.07938" y="186.18793" fill="#280b0b" stroke-width=".264583" font-family="sans-serif" font-size="8.46667" font-weight="700" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-orientation:upright" transform="translate(9.923507 -82.654231) scale(.83289259)"><tspan x="180.07938" y="186.18793" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-align:center" text-anchor="middle" writing-mode="tb-rl">TestNFT</tspan></text><text xml:space="preserve" x="149.21829" y="146.19049" fill="#280b0b" stroke-width=".289883" font-family="Tamanegi_Geki" font-size="24.7369" font-weight="400" style="-inkscape-font-specification:Tamanegi_Geki" transform="matrix(.81446954 0 0 .85173237 9.923507 -82.654231)"><tspan x="149.21829" y="146.19049">納</tspan></text><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#303030" d="M155.851 306.732c-18.155 0-22.636-11.146-22.636-11.146l1.494 16.661h42.286l1.494-16.661c-.002.001-4.483 11.146-22.638 11.146z"/><path fill="#e81c1c" d="M148.49699 284.556h15.627v188.215h-15.627z"/><ellipse cx="156.31" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ff2c2c" d="M144.59 436.691v39.987c0 1.888 5.247 3.418 11.72 3.418 6.473 0 11.72-1.53 11.72-3.418v-39.987z"/></g><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#e81c1c" d="M282.70599 284.556h15.627v188.215h-15.627zM218.359 312.248h10.112v-27.692h-10.112z"/><path fill="#ff2c2c" d="M104.373 286.394h238.084l4.137-13.329H100.236z"/><path fill="#303030" d="M290.98 306.732c18.155 0 22.636-11.146 22.636-11.146l-1.494 16.661h-42.285l-1.494-16.661c0 .001 4.482 11.146 22.637 11.146zm-67.565-44.212c-109.593 0-133.033-17.235-137.169-21.371l8.935 34.215H351.65l8.935-34.215c-4.137 4.136-27.576 21.371-137.17 21.371z"/><ellipse cx="290.51999" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ba1919" d="M110.654 322.321h225.522v-11.643H110.654z"/><path fill="#ff2c2c" d="M302.24 436.691v39.987c0 1.888-5.247 3.418-11.72 3.418-6.473 0-11.72-1.53-11.72-3.418v-39.987z"/></g><g transform="matrix(1.26057157 0 0 .7890415 -75.404294 234.704048)"><path fill="#febe69" d="M60.94678-80.649745h157.52895l-4.49792 110.10088H65.444697Z"/><path fill="#febe69" d="m59.817542-79.520509 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="137.17049" cy="-112.26847" r="5" fill="#fff"/></g><text xml:space="preserve" x="209.95473" y="374.50323" stroke-width=".365001" font-family="Tamanegi_Geki" font-size="11.2889" font-weight="700" letter-spacing="3.96875" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="matrix(.89235306 0 0 .93318009 -89.609041 -177.833896)"><tspan x="211.9391" y="374.50323" stroke-width=".365">令和五年</tspan></text><g transform="matrix(.89235306 0 0 .93318009 -87.394142 -174.33652)"><ellipse cx="120.62452" cy="445.47101" fill="none" stroke="red" stroke-width=".681042" rx="9.683998" ry="9.659479"/><text xml:space="preserve" x="120.16389" y="445.64499" fill="red" stroke-width=".365001" direction="rtl" font-family="Tamanegi_Geki" font-size="14.1111" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-orientation:upright" text-anchor="middle" writing-mode="tb-rl"><tspan x="120.16389" y="445.64499" stroke-width=".365">済</tspan></text></g><text xml:space="preserve" stroke-width="3.77953" direction="rtl" font-family="Tamanegi_Geki" font-size="43.8495" font-weight="700" style="line-height:1.1;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:end;text-orientation:upright;white-space:pre;shape-inside:url(#b);shape-padding:0" transform="matrix(.23610174 0 0 .29585664 -129.361002 -261.060929)" writing-mode="tb-rl"><tspan x="510%" y="1730">こんにちは!</tspan><tspan x="480%" y="1730">世界</tspan></text></svg>',
//   '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 200 257.9422"><g transform="matrix(1.26057152 0 0 .78904079 -31.316713 -67.080117)"><path fill="#febe69" d="M25.972512 133.2503H183.50146l-4.49792 110.10088H30.470429Z"/><path fill="#febe69" d="m24.843274 134.379533 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="102.19621" cy="101.63158" r="5" fill="#fff"/><text xml:space="preserve" x="57.973602" y="139.82329" stroke-width="1.00269" direction="rtl" font-family="Tamanegi_Geki" font-size="9.90435" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="scale(.79116302 1.263962)"><tspan x="57.973602" y="139.82329" writing-mode="tb-rl"> NF天満宮</tspan></text></g><text xml:space="preserve" fill="#280b0b" font-size="85.3333" style="white-space:pre;shape-inside:url(#a)" transform="matrix(.23610174 0 0 .24690367 243.622732 -4.098946)"><tspan x="-822.47852" y="181.80856"><tspan font-family="Tamanegi_Geki" style="-inkscape-font-specification:Tamanegi_Geki">奉</tspan></tspan></text><text xml:space="preserve" x="201.07938" y="186.18793" fill="#280b0b" stroke-width=".264583" font-family="sans-serif" font-size="8.46667" font-weight="700" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-orientation:upright" transform="translate(9.923507 -82.654231) scale(.83289259)"><tspan x="180.07938" y="186.18793" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-align:center" text-anchor="middle" writing-mode="tb-rl">TestNFT</tspan></text><text xml:space="preserve" x="149.21829" y="146.19049" fill="#280b0b" stroke-width=".289883" font-family="Tamanegi_Geki" font-size="24.7369" font-weight="400" style="-inkscape-font-specification:Tamanegi_Geki" transform="matrix(.81446954 0 0 .85173237 9.923507 -82.654231)"><tspan x="149.21829" y="146.19049">納</tspan></text><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#303030" d="M155.851 306.732c-18.155 0-22.636-11.146-22.636-11.146l1.494 16.661h42.286l1.494-16.661c-.002.001-4.483 11.146-22.638 11.146z"/><path fill="#e81c1c" d="M148.49699 284.556h15.627v188.215h-15.627z"/><ellipse cx="156.31" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ff2c2c" d="M144.59 436.691v39.987c0 1.888 5.247 3.418 11.72 3.418 6.473 0 11.72-1.53 11.72-3.418v-39.987z"/></g><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#e81c1c" d="M282.70599 284.556h15.627v188.215h-15.627zM218.359 312.248h10.112v-27.692h-10.112z"/><path fill="#ff2c2c" d="M104.373 286.394h238.084l4.137-13.329H100.236z"/><path fill="#303030" d="M290.98 306.732c18.155 0 22.636-11.146 22.636-11.146l-1.494 16.661h-42.285l-1.494-16.661c0 .001 4.482 11.146 22.637 11.146zm-67.565-44.212c-109.593 0-133.033-17.235-137.169-21.371l8.935 34.215H351.65l8.935-34.215c-4.137 4.136-27.576 21.371-137.17 21.371z"/><ellipse cx="290.51999" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ba1919" d="M110.654 322.321h225.522v-11.643H110.654z"/><path fill="#ff2c2c" d="M302.24 436.691v39.987c0 1.888-5.247 3.418-11.72 3.418-6.473 0-11.72-1.53-11.72-3.418v-39.987z"/></g><g transform="matrix(1.26057157 0 0 .7890415 -75.404294 234.704048)"><path fill="#febe69" d="M60.94678-80.649745h157.52895l-4.49792 110.10088H65.444697Z"/><path fill="#febe69" d="m59.817542-79.520509 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="137.17049" cy="-112.26847" r="5" fill="#fff"/></g><text xml:space="preserve" x="209.95473" y="374.50323" stroke-width=".365001" font-family="Tamanegi_Geki" font-size="11.2889" font-weight="700" letter-spacing="3.96875" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="matrix(.89235306 0 0 .93318009 -89.609041 -177.833896)"><tspan x="211.9391" y="374.50323" stroke-width=".365">令和五年</tspan></text><g transform="matrix(.89235306 0 0 .93318009 -87.394142 -174.33652)"><ellipse cx="120.62452" cy="445.47101" fill="none" stroke="red" stroke-width=".681042" rx="9.683998" ry="9.659479"/><text xml:space="preserve" x="120.16389" y="445.64499" fill="red" stroke-width=".365001" direction="rtl" font-family="Tamanegi_Geki" font-size="14.1111" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-orientation:upright" text-anchor="middle" writing-mode="tb-rl"><tspan x="120.16389" y="445.64499" stroke-width=".365">済</tspan></text></g><text xml:space="preserve" stroke-width="3.77953" direction="rtl" font-family="Tamanegi_Geki" font-size="43.8495" font-weight="700" style="line-height:1.1;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:end;text-orientation:upright;white-space:pre;shape-inside:url(#b);shape-padding:0" transform="matrix(.23610174 0 0 .29585664 -129.361002 -261.060929)" writing-mode="tb-rl"><tspan x="510%" y="1730">こんにちは!</tspan><tspan x="480%" y="1730">世界</tspan></text></svg>',
//   '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 200 257.9422"><g transform="matrix(1.26057152 0 0 .78904079 -31.316713 -67.080117)"><path fill="#febe69" d="M25.972512 133.2503H183.50146l-4.49792 110.10088H30.470429Z"/><path fill="#febe69" d="m24.843274 134.379533 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="102.19621" cy="101.63158" r="5" fill="#fff"/><text xml:space="preserve" x="57.973602" y="139.82329" stroke-width="1.00269" direction="rtl" font-family="Tamanegi_Geki" font-size="9.90435" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="scale(.79116302 1.263962)"><tspan x="57.973602" y="139.82329" writing-mode="tb-rl"> NF天満宮</tspan></text></g><text xml:space="preserve" fill="#280b0b" font-size="85.3333" style="white-space:pre;shape-inside:url(#a)" transform="matrix(.23610174 0 0 .24690367 243.622732 -4.098946)"><tspan x="-822.47852" y="181.80856"><tspan font-family="Tamanegi_Geki" style="-inkscape-font-specification:Tamanegi_Geki">奉</tspan></tspan></text><text xml:space="preserve" x="201.07938" y="186.18793" fill="#280b0b" stroke-width=".264583" font-family="sans-serif" font-size="8.46667" font-weight="700" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-orientation:upright" transform="translate(9.923507 -82.654231) scale(.83289259)"><tspan x="180.07938" y="186.18793" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-align:center" text-anchor="middle" writing-mode="tb-rl">TestNFT</tspan></text><text xml:space="preserve" x="149.21829" y="146.19049" fill="#280b0b" stroke-width=".289883" font-family="Tamanegi_Geki" font-size="24.7369" font-weight="400" style="-inkscape-font-specification:Tamanegi_Geki" transform="matrix(.81446954 0 0 .85173237 9.923507 -82.654231)"><tspan x="149.21829" y="146.19049">納</tspan></text><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#303030" d="M155.851 306.732c-18.155 0-22.636-11.146-22.636-11.146l1.494 16.661h42.286l1.494-16.661c-.002.001-4.483 11.146-22.638 11.146z"/><path fill="#e81c1c" d="M148.49699 284.556h15.627v188.215h-15.627z"/><ellipse cx="156.31" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ff2c2c" d="M144.59 436.691v39.987c0 1.888 5.247 3.418 11.72 3.418 6.473 0 11.72-1.53 11.72-3.418v-39.987z"/></g><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#e81c1c" d="M282.70599 284.556h15.627v188.215h-15.627zM218.359 312.248h10.112v-27.692h-10.112z"/><path fill="#ff2c2c" d="M104.373 286.394h238.084l4.137-13.329H100.236z"/><path fill="#303030" d="M290.98 306.732c18.155 0 22.636-11.146 22.636-11.146l-1.494 16.661h-42.285l-1.494-16.661c0 .001 4.482 11.146 22.637 11.146zm-67.565-44.212c-109.593 0-133.033-17.235-137.169-21.371l8.935 34.215H351.65l8.935-34.215c-4.137 4.136-27.576 21.371-137.17 21.371z"/><ellipse cx="290.51999" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ba1919" d="M110.654 322.321h225.522v-11.643H110.654z"/><path fill="#ff2c2c" d="M302.24 436.691v39.987c0 1.888-5.247 3.418-11.72 3.418-6.473 0-11.72-1.53-11.72-3.418v-39.987z"/></g><g transform="matrix(1.26057157 0 0 .7890415 -75.404294 234.704048)"><path fill="#febe69" d="M60.94678-80.649745h157.52895l-4.49792 110.10088H65.444697Z"/><path fill="#febe69" d="m59.817542-79.520509 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="137.17049" cy="-112.26847" r="5" fill="#fff"/></g><text xml:space="preserve" x="209.95473" y="374.50323" stroke-width=".365001" font-family="Tamanegi_Geki" font-size="11.2889" font-weight="700" letter-spacing="3.96875" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="matrix(.89235306 0 0 .93318009 -89.609041 -177.833896)"><tspan x="211.9391" y="374.50323" stroke-width=".365">令和五年</tspan></text><g transform="matrix(.89235306 0 0 .93318009 -87.394142 -174.33652)"><ellipse cx="120.62452" cy="445.47101" fill="none" stroke="red" stroke-width=".681042" rx="9.683998" ry="9.659479"/><text xml:space="preserve" x="120.16389" y="445.64499" fill="red" stroke-width=".365001" direction="rtl" font-family="Tamanegi_Geki" font-size="14.1111" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-orientation:upright" text-anchor="middle" writing-mode="tb-rl"><tspan x="120.16389" y="445.64499" stroke-width=".365">済</tspan></text></g><text xml:space="preserve" stroke-width="3.77953" direction="rtl" font-family="Tamanegi_Geki" font-size="43.8495" font-weight="700" style="line-height:1.1;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:end;text-orientation:upright;white-space:pre;shape-inside:url(#b);shape-padding:0" transform="matrix(.23610174 0 0 .29585664 -129.361002 -261.060929)" writing-mode="tb-rl"><tspan x="510%" y="1730">こんにちは!</tspan><tspan x="480%" y="1730">世界</tspan></text></svg>',
//   '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 200 257.9422"><g transform="matrix(1.26057152 0 0 .78904079 -31.316713 -67.080117)"><path fill="#febe69" d="M25.972512 133.2503H183.50146l-4.49792 110.10088H30.470429Z"/><path fill="#febe69" d="m24.843274 134.379533 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="102.19621" cy="101.63158" r="5" fill="#fff"/><text xml:space="preserve" x="57.973602" y="139.82329" stroke-width="1.00269" direction="rtl" font-family="Tamanegi_Geki" font-size="9.90435" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="scale(.79116302 1.263962)"><tspan x="57.973602" y="139.82329" writing-mode="tb-rl"> NF天満宮</tspan></text></g><text xml:space="preserve" fill="#280b0b" font-size="85.3333" style="white-space:pre;shape-inside:url(#a)" transform="matrix(.23610174 0 0 .24690367 243.622732 -4.098946)"><tspan x="-822.47852" y="181.80856"><tspan font-family="Tamanegi_Geki" style="-inkscape-font-specification:Tamanegi_Geki">奉</tspan></tspan></text><text xml:space="preserve" x="201.07938" y="186.18793" fill="#280b0b" stroke-width=".264583" font-family="sans-serif" font-size="8.46667" font-weight="700" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-orientation:upright" transform="translate(9.923507 -82.654231) scale(.83289259)"><tspan x="180.07938" y="186.18793" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-align:center" text-anchor="middle" writing-mode="tb-rl">TestNFT</tspan></text><text xml:space="preserve" x="149.21829" y="146.19049" fill="#280b0b" stroke-width=".289883" font-family="Tamanegi_Geki" font-size="24.7369" font-weight="400" style="-inkscape-font-specification:Tamanegi_Geki" transform="matrix(.81446954 0 0 .85173237 9.923507 -82.654231)"><tspan x="149.21829" y="146.19049">納</tspan></text><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#303030" d="M155.851 306.732c-18.155 0-22.636-11.146-22.636-11.146l1.494 16.661h42.286l1.494-16.661c-.002.001-4.483 11.146-22.638 11.146z"/><path fill="#e81c1c" d="M148.49699 284.556h15.627v188.215h-15.627z"/><ellipse cx="156.31" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ff2c2c" d="M144.59 436.691v39.987c0 1.888 5.247 3.418 11.72 3.418 6.473 0 11.72-1.53 11.72-3.418v-39.987z"/></g><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#e81c1c" d="M282.70599 284.556h15.627v188.215h-15.627zM218.359 312.248h10.112v-27.692h-10.112z"/><path fill="#ff2c2c" d="M104.373 286.394h238.084l4.137-13.329H100.236z"/><path fill="#303030" d="M290.98 306.732c18.155 0 22.636-11.146 22.636-11.146l-1.494 16.661h-42.285l-1.494-16.661c0 .001 4.482 11.146 22.637 11.146zm-67.565-44.212c-109.593 0-133.033-17.235-137.169-21.371l8.935 34.215H351.65l8.935-34.215c-4.137 4.136-27.576 21.371-137.17 21.371z"/><ellipse cx="290.51999" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ba1919" d="M110.654 322.321h225.522v-11.643H110.654z"/><path fill="#ff2c2c" d="M302.24 436.691v39.987c0 1.888-5.247 3.418-11.72 3.418-6.473 0-11.72-1.53-11.72-3.418v-39.987z"/></g><g transform="matrix(1.26057157 0 0 .7890415 -75.404294 234.704048)"><path fill="#febe69" d="M60.94678-80.649745h157.52895l-4.49792 110.10088H65.444697Z"/><path fill="#febe69" d="m59.817542-79.520509 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="137.17049" cy="-112.26847" r="5" fill="#fff"/></g><text xml:space="preserve" x="209.95473" y="374.50323" stroke-width=".365001" font-family="Tamanegi_Geki" font-size="11.2889" font-weight="700" letter-spacing="3.96875" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="matrix(.89235306 0 0 .93318009 -89.609041 -177.833896)"><tspan x="211.9391" y="374.50323" stroke-width=".365">令和五年</tspan></text><g transform="matrix(.89235306 0 0 .93318009 -87.394142 -174.33652)"><ellipse cx="120.62452" cy="445.47101" fill="none" stroke="red" stroke-width=".681042" rx="9.683998" ry="9.659479"/><text xml:space="preserve" x="120.16389" y="445.64499" fill="red" stroke-width=".365001" direction="rtl" font-family="Tamanegi_Geki" font-size="14.1111" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-orientation:upright" text-anchor="middle" writing-mode="tb-rl"><tspan x="120.16389" y="445.64499" stroke-width=".365">済</tspan></text></g><text xml:space="preserve" stroke-width="3.77953" direction="rtl" font-family="Tamanegi_Geki" font-size="43.8495" font-weight="700" style="line-height:1.1;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:end;text-orientation:upright;white-space:pre;shape-inside:url(#b);shape-padding:0" transform="matrix(.23610174 0 0 .29585664 -129.361002 -261.060929)" writing-mode="tb-rl"><tspan x="510%" y="1730">こんにちは!</tspan><tspan x="480%" y="1730">世界</tspan></text></svg>',
//   '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 200 257.9422"><g transform="matrix(1.26057152 0 0 .78904079 -31.316713 -67.080117)"><path fill="#febe69" d="M25.972512 133.2503H183.50146l-4.49792 110.10088H30.470429Z"/><path fill="#febe69" d="m24.843274 134.379533 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="102.19621" cy="101.63158" r="5" fill="#fff"/><text xml:space="preserve" x="57.973602" y="139.82329" stroke-width="1.00269" direction="rtl" font-family="Tamanegi_Geki" font-size="9.90435" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="scale(.79116302 1.263962)"><tspan x="57.973602" y="139.82329" writing-mode="tb-rl"> NF天満宮</tspan></text></g><text xml:space="preserve" fill="#280b0b" font-size="85.3333" style="white-space:pre;shape-inside:url(#a)" transform="matrix(.23610174 0 0 .24690367 243.622732 -4.098946)"><tspan x="-822.47852" y="181.80856"><tspan font-family="Tamanegi_Geki" style="-inkscape-font-specification:Tamanegi_Geki">奉</tspan></tspan></text><text xml:space="preserve" x="201.07938" y="186.18793" fill="#280b0b" stroke-width=".264583" font-family="sans-serif" font-size="8.46667" font-weight="700" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-orientation:upright" transform="translate(9.923507 -82.654231) scale(.83289259)"><tspan x="180.07938" y="186.18793" style="-inkscape-font-specification:&quot;sans-serif Bold&quot;;text-align:center" text-anchor="middle" writing-mode="tb-rl">TestNFT</tspan></text><text xml:space="preserve" x="149.21829" y="146.19049" fill="#280b0b" stroke-width=".289883" font-family="Tamanegi_Geki" font-size="24.7369" font-weight="400" style="-inkscape-font-specification:Tamanegi_Geki" transform="matrix(.81446954 0 0 .85173237 9.923507 -82.654231)"><tspan x="149.21829" y="146.19049">納</tspan></text><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#303030" d="M155.851 306.732c-18.155 0-22.636-11.146-22.636-11.146l1.494 16.661h42.286l1.494-16.661c-.002.001-4.483 11.146-22.638 11.146z"/><path fill="#e81c1c" d="M148.49699 284.556h15.627v188.215h-15.627z"/><ellipse cx="156.31" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ff2c2c" d="M144.59 436.691v39.987c0 1.888 5.247 3.418 11.72 3.418 6.473 0 11.72-1.53 11.72-3.418v-39.987z"/></g><g transform="translate(30.904077 -29.758531) scale(.31245671)"><path fill="#e81c1c" d="M282.70599 284.556h15.627v188.215h-15.627zM218.359 312.248h10.112v-27.692h-10.112z"/><path fill="#ff2c2c" d="M104.373 286.394h238.084l4.137-13.329H100.236z"/><path fill="#303030" d="M290.98 306.732c18.155 0 22.636-11.146 22.636-11.146l-1.494 16.661h-42.285l-1.494-16.661c0 .001 4.482 11.146 22.637 11.146zm-67.565-44.212c-109.593 0-133.033-17.235-137.169-21.371l8.935 34.215H351.65l8.935-34.215c-4.137 4.136-27.576 21.371-137.17 21.371z"/><ellipse cx="290.51999" cy="479.03299" fill="#191919" rx="19.304001" ry="6.952"/><path fill="#ba1919" d="M110.654 322.321h225.522v-11.643H110.654z"/><path fill="#ff2c2c" d="M302.24 436.691v39.987c0 1.888-5.247 3.418-11.72 3.418-6.473 0-11.72-1.53-11.72-3.418v-39.987z"/></g><g transform="matrix(1.26057157 0 0 .7890415 -75.404294 234.704048)"><path fill="#febe69" d="M60.94678-80.649745h157.52895l-4.49792 110.10088H65.444697Z"/><path fill="#febe69" d="m59.817542-79.520509 77.019894-49.364767 80.869535 48.56883Z"/><circle cx="137.17049" cy="-112.26847" r="5" fill="#fff"/></g><text xml:space="preserve" x="209.95473" y="374.50323" stroke-width=".365001" font-family="Tamanegi_Geki" font-size="11.2889" font-weight="700" letter-spacing="3.96875" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki Bold&quot;;text-align:center;text-orientation:upright" text-anchor="middle" transform="matrix(.89235306 0 0 .93318009 -89.609041 -177.833896)"><tspan x="211.9391" y="374.50323" stroke-width=".365">令和五年</tspan></text><g transform="matrix(.89235306 0 0 .93318009 -87.394142 -174.33652)"><ellipse cx="120.62452" cy="445.47101" fill="none" stroke="red" stroke-width=".681042" rx="9.683998" ry="9.659479"/><text xml:space="preserve" x="120.16389" y="445.64499" fill="red" stroke-width=".365001" direction="rtl" font-family="Tamanegi_Geki" font-size="14.1111" font-weight="700" style="line-height:0;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-orientation:upright" text-anchor="middle" writing-mode="tb-rl"><tspan x="120.16389" y="445.64499" stroke-width=".365">済</tspan></text></g><text xml:space="preserve" stroke-width="3.77953" direction="rtl" font-family="Tamanegi_Geki" font-size="43.8495" font-weight="700" style="line-height:1.1;-inkscape-font-specification:&quot;Tamanegi_Geki, Bold&quot;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:end;text-orientation:upright;white-space:pre;shape-inside:url(#b);shape-padding:0" transform="matrix(.23610174 0 0 .29585664 -129.361002 -261.060929)" writing-mode="tb-rl"><tspan x="510%" y="1730">こんにちは!</tspan><tspan x="480%" y="1730">世界</tspan></text></svg>',
// ];

function Row({ NFTs, loading }) {
  return (
    <div>
      <div className="rowWrapper">
        {NFTs.map((imageSVG, index) => {
          return (
            <div className="card" key={`NFT${index}`}>
              {parse(imageSVG.toString())}
            </div>
          );
        })}
      </div>
      {loading ? (
        <div className="spinWrapper">
          <Spin />
        </div>
      ) : (
        <></>
      )}
    </div>
  );
}

function NFTList() {
  const [loading, setLoading] = useState(false);
  const { data, fetchNextPage } = useContractInfiniteReads({
    cacheKey: 'NFTList',
    contracts(param = 0) {
      const args = [BigNumber.from(param)];
      return [
        {
          address: process.env.REACT_APP_CONTRACT_ADDRESS,
          abi: ABI,
          functionName: 'tokenURI',
          args,
        },
      ];
    },
    onSuccess(data) {
      console.log(data);
    },
  });
  window.onscroll = async () => {
    if (
      window.scrollY + window.innerHeight >
      document.getElementById('root').offsetHeight - 100
    ) {
      setLoading(true);
      await fetchNextPage();
      setLoading(false);
    }
  };

  const navigate = useNavigate();
  if (!data) {
    <Spin />;
  } else {
    return (
      <div id="wrapper">
        <h1 id="title">みんなの絵馬</h1>
        <Row NFTs={data.pages} loading={loading} />
        <div
          id="rightPage"
          onClick={() => {
            navigate('/');
          }}
        >
          <p>Top Page</p>
          <img src="/arrow.svg" alt="" />
        </div>
      </div>
    );
  }
}

export default NFTList;

function Spin() {
  return (
    <div className="lds-spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  );
}
